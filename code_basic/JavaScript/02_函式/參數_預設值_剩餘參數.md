# 函式參數：預設值與剩餘參數

ES6 (ECMAScript 2015) 為 JavaScript 的函式參數帶來了兩項重要更新：預設參數 (Default Parameters) 和 剩餘參數 (Rest Parameters)，讓參數處理變得更靈活簡潔。

## 1. 參數 (Parameters) vs 引數 (Arguments)

*   **Parameters (參數)**: 函式**定義**時列出的變數名稱。
*   **Arguments (引數)**: 函式**呼叫**時實際傳入的值。

```javascript
function add(x, y) { // x, y 是 Parameters
    return x + y;
}
add(5, 10); // 5, 10 是 Arguments
```

## 2. 預設參數 (Default Parameters)

在 ES6 之前，處理未傳入的參數通常需要手動檢查 `undefined`。ES6 允許直接在定義時指定預設值。

如果呼叫時：
1.  **沒有傳入**該參數。
2.  傳入的值是 `undefined`。

那麼該參數就會使用預設值。

```javascript
function greet(name = "Guest") {
    console.log(`Hello, ${name}!`);
}

greet("Alice");     // Hello, Alice!
greet();            // Hello, Guest!
greet(undefined);   // Hello, Guest!
greet(null);        // Hello, null! (注意：null 被視為有效值，不會觸發預設值)
```

也可以使用表達式作為預設值：

```javascript
function calculatePrice(price, tax = price * 0.05) {
    return price + tax;
}
console.log(calculatePrice(100)); // 105
```

## 3. 剩餘參數 (Rest Parameters)

使用 `...` (展開運算符的語法) 將**不確定數量**的剩餘引數收集成一個**真陣列**。

這取代了舊有的 `arguments` 物件 (arguments 是一個類陣列物件，缺乏陣列方法)。

### 語法

```javascript
function sum(...numbers) {
    // numbers 是一個陣列，例如 [1, 2, 3, 4]
    return numbers.reduce((total, num) => total + num, 0);
}

console.log(sum(1, 2, 3, 4)); // 10
console.log(sum(5, 10));      // 15
```

### 注意事項

1.  剩餘參數必須是參數列表中的**最後一個**。
2.  一個函式只能有一個剩餘參數。

```javascript
// 正確：收集剩餘的參數
function introduce(firstName, lastName, ...hobbies) {
    console.log(`${firstName} ${lastName} likes: ${hobbies.join(", ")}`);
}

introduce("John", "Doe", "Reading", "Swimming", "Coding");
// Output: John Doe likes: Reading, Swimming, Coding

// 錯誤：Rest parameter must be last formal parameter
// function wrong(...nums, last) {} 
```
