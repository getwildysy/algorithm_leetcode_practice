# 其他常用的陣列技巧

## 1. 陣列去重 (Remove Duplicates)

使用 ES6 的 `Set` 資料結構是去除陣列重複值最快的方法。`Set` 只儲存唯一值。

```javascript
const numbers = [1, 2, 2, 3, 4, 4, 5];

// 步驟：Array -> Set (去重) -> Array
const unique = [...new Set(numbers)];

console.log(unique); // [1, 2, 3, 4, 5]
```

## 2. 扁平化陣列 (Flattening) - `flat()`

將多維陣列轉為一維陣列。ES2019 引入。

```javascript
const arr = [1, [2, 3], [4, [5, 6]]];

// flat(depth): depth 預設為 1
console.log(arr.flat()); // [1, 2, 3, 4, [5, 6]]

// 使用 Infinity 可以展開任意深度的陣列
console.log(arr.flat(Infinity)); // [1, 2, 3, 4, 5, 6]
```

## 3. 產生序列陣列

如何快速產生一個 `[0, 1, 2, 3, 4]` 的陣列？

```javascript
// 方法 1: Array.from (推薦)
// 第一個參數是類陣列物件 { length: 5 }
// 第二個參數是 map function
const seq = Array.from({ length: 5 }, (_, index) => index);
console.log(seq); // [0, 1, 2, 3, 4]

// 方法 2: 展開運算符 + keys()
const seq2 = [...Array(5).keys()];
```

## 4. 清空陣列

```javascript
let list = [1, 2, 3, 4, 5];

// 方法 1: 直接賦予新空陣列 (若有其他變數參考舊陣列，舊陣列內容不會變)
list = [];

// 方法 2: 修改長度 (會清空原始陣列內容，影響所有參考)
list.length = 0;

// 方法 3: splice
list.splice(0, list.length);
```

## 5. 隨機打亂陣列 (Shuffle)

Fisher-Yates Shuffle 演算法是最標準的實作。

```javascript
function shuffle(array) {
    for (let i = array.length - 1; i > 0; i--) {
        // 產生 0 到 i 的隨機索引
        const j = Math.floor(Math.random() * (i + 1));
        // 交換元素
        [array[i], array[j]] = [array[j], array[i]];
    }
    return array;
}

const nums = [1, 2, 3, 4, 5];
shuffle(nums);
console.log(nums);
```
