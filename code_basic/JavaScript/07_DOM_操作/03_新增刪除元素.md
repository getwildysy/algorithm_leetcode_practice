# DOM 操作：新增、刪除元素

JavaScript 允許我們動態地建立、插入和移除 DOM 元素，從而動態改變網頁結構。

## 1. 建立新元素

### `document.createElement(tagName)`
建立一個新的 HTML 元素節點。

```javascript
const newDiv = document.createElement("div");
const newParagraph = document.createElement("p");
```

### `document.createTextNode(text)`
建立一個新的文字節點。

```javascript
const textNode = document.createTextNode("這是一段文字");
```

## 2. 插入元素

將建立好的新元素插入到 DOM 樹中，使其顯示在網頁上。

### `appendChild(child)`
將一個子元素添加到父元素的**末尾**。

```javascript
const parent = document.querySelector("#parent"); // <div id="parent"></div>

const child1 = document.createElement("span");
child1.textContent = "Child 1";
parent.appendChild(child1); 
// <div id="parent"><span>Child 1</span></div>

const child2 = document.createElement("span");
child2.textContent = "Child 2";
parent.appendChild(child2);
// <div id="parent"><span>Child 1</span><span>Child 2</span></div>
```

### `insertBefore(newElement, referenceElement)`
將 `newElement` 插入到 `referenceElement` **之前**。

```javascript
const beforeMe = document.querySelector("#beforeMe"); // <p id="beforeMe">Hello</p>
const newElement = document.createElement("div");
newElement.textContent = "I am new";

// 將 newElement 插入到 beforeMe 之前
beforeMe.parentNode.insertBefore(newElement, beforeMe);
```

### `insertAdjacentElement(position, element)` (ES6+)
提供更靈活的插入位置。`position` 可以是：
*   `'beforebegin'`: 在元素本身之前。
*   `'afterbegin'`: 在元素內部，第一個子元素之前。
*   `'beforeend'`: 在元素內部，最後一個子元素之後。
*   `'afterend'`: 在元素本身之後。

```html
<div id="container">
    <p>Existing content</p>
</div>
```
```javascript
const container = document.querySelector("#container");
const newHeader = document.createElement("h1");
newHeader.textContent = "Title";

// 在 container 內部，第一個子元素之前插入
container.insertAdjacentElement('afterbegin', newHeader);
// <div id="container"><h1>Title</h1><p>Existing content</p></div>
```

## 3. 移除元素

### `element.remove()` (ES6+)
從其父節點中移除元素。

```javascript
const itemToRemove = document.querySelector("#item");
itemToRemove.remove();
```

### `parentNode.removeChild(child)` (較舊，但相容性高)
從指定父節點中移除子節點。

```javascript
const parent = document.querySelector("#parent");
const child = document.querySelector("#child");
parent.removeChild(child);
```

## 4. 替換元素

### `parentNode.replaceChild(newChild, oldChild)`
用 `newChild` 替換 `oldChild`。

```javascript
const parent = document.querySelector("#parent");
const oldP = document.querySelector("#oldParagraph");
const newSpan = document.createElement("span");
newSpan.textContent = "New Span Element";

parent.replaceChild(newSpan, oldP);
```
