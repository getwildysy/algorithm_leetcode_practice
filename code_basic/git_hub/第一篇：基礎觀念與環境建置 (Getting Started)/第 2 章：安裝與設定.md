# 第 2 章：安裝與設定

## 2.1 安裝 Git

### Windows 使用者
1.  前往 [Git 官網下載頁面](https://git-scm.com/download/win)。
2.  下載 **64-bit Git for Windows Setup**。
3.  **安裝過程一路「下一步 (Next)」到底即可**。
    *   *進階選項提醒*：在 "Choosing the default editor used by Git" 步驟，如果你不熟悉 Vim，建議改選 **Visual Studio Code** 或 **Notepad++**。
4.  安裝完成後，打開 **Git Bash**，輸入 `git --version` 確認。

### macOS 使用者
建議透過 **Homebrew** 安裝最新版：
```bash
brew install git
git --version
```

### Linux (Ubuntu/Debian) 使用者
```bash
sudo apt-get update
sudo apt-get install git
```

---

## 2.2 初始設定 (第一次使用必做！)

### 設定使用者名稱與 Email (`--global`)
這是最基本的設定，告訴 Git 你是誰。
```bash
git config --global user.name "Your Name"
git config --global user.email "your.email@example.com"
```
*   `--global`：代表這個設定會存放在你個人的使用者目錄下 (`~/.gitconfig`)，套用到這台電腦上所有的專案。

### 設定層級 (Config Scope)
Git 的設定有三個層級，優先權由下而上 (Local > Global > System)：
1.  **Local** (`--local`)：存放在 `.git/config`。只對**目前這個專案**有效。
    *   *指令*：`git config user.name "Work Identity"` (不加參數預設就是 local)
2.  **Global** (`--global`)：存放在 `~/.gitconfig`。對**目前使用者**的所有專案有效。
3.  **System** (`--system`)：存放在 `/etc/gitconfig`。對整台電腦所有使用者有效 (很少用)。

---

## 2.3 關鍵細節設定 (Advanced)

### 1. 換行符號處理 (`core.autocrlf`)
這是 Windows 使用者**最常遇到的雷**。
*   **Windows** 使用 CRLF (`\r\n`) 作為換行。
*   **Linux/macOS** 使用 LF (`\n`) 作為換行。
如果不設定好，跨平台協作時會出現「明明沒改程式碼，但每一行都被 Git 標示為修改」的慘劇。

**Windows 使用者請執行：**
```bash
git config --global core.autocrlf true
```
*   **提交時 (Commit)**：自動把 CRLF 轉成 LF (存進 Repo)。
*   **取出時 (Checkout)**：自動把 LF 轉回 CRLF (讓 Windows 讀得懂)。

**macOS/Linux 使用者請執行：**
```bash
git config --global core.autocrlf input
```
*   **提交時**：把 CRLF 轉成 LF (預防有 Windows 髒東西混進來)。
*   **取出時**：不做轉換 (原本就是 LF)。

### 2. 設定指令別名 (Alias)
讓你的 Git 指令打起來像飛一樣快。
將 `git status` 縮寫成 `git st`：
```bash
git config --global alias.st status
```
常用推薦組合：
```bash
git config --global alias.co checkout
git config --global alias.br branch
git config --global alias.ci commit
git config --global alias.st status
git config --global alias.lg "log --color --graph --pretty=format:'%Cred%h%Creset -%C(yellow)%d%Creset %s %Cgreen(%cr) %C(bold blue)<%an>%Creset' --abbrev-commit"
```
以後只要打 `git lg` 就能看到超漂亮的歷史線圖！

### 3. 記住密碼 (Credential Helper)
如果你是用 HTTPS 協定 (或是尚未設定 SSH Key)，不想每次 push 都輸入 Token：

**Windows:**
```bash
git config --global credential.helper manager
```
(Git for Windows 通常預設已開啟)

**Linux/Mac:**
```bash
git config --global credential.helper store
```
這會把密碼明文存在硬碟上 (安全性較低，但在私人電腦尚可接受)。

---

## 2.4 檢查設定
要看你到底設定了什麼，可以列出所有清單：
```bash
git config --list --show-origin
```
這會顯示設定值以及**它是在哪個檔案裡被設定的** (方便 Debug 是 global 還是 local 蓋掉)。
