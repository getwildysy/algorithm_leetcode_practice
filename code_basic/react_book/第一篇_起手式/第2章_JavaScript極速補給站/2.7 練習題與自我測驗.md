# 2.7 練習題與自我測驗

恭喜你完成了 JavaScript 極速補給！現在來測試一下你的實力。

## 觀念測驗 (Multiple Choice)

### Q1: [解構賦值] 下列哪種寫法可以正確從 `user` 物件中取出 `name` 並將其重新命名為 `username`？
1. `const { name: username } = user;`
2. `const { username: name } = user;`
3. `const { name as username } = user;`
4. `const [ name: username ] = user;`

<details>
<summary>點擊查看答案</summary>
**答案：1**
<br>
**解析**：物件解構的重命名語法是 `原始屬性名: 新變數名`。
</details>

---

### Q2: [陣列方法] 關於 `map` 與 `forEach` 的說法，何者正確？
1. 兩個都回傳新陣列。
2. `map` 會修改原陣列，`forEach` 不會。
3. `map` 回傳新陣列，`forEach` 沒有回傳值 (undefined)。
4. 在 React 渲染列表時，應該使用 `forEach`。

<details>
<summary>點擊查看答案</summary>
**答案：3**
<br>
**解析**：`map` 是 Functional 的，回傳新陣列適合 React 渲染；`forEach` 只是單純跑迴圈執行副作用。
</details>

---

### Q3: [模組化] 如果一個檔案只有 `export default function MyComponent() {}`，引入時應該怎麼寫？
1. `import { MyComponent } from './MyComponent';`
2. `import MyComponent from './MyComponent';`
3. `import * as MyComponent from './MyComponent';`
4. `require(MyComponent);`

<details>
<summary>點擊查看答案</summary>
**答案：2**
<br>
**解析**：Default Export 引入時不需要大括號，且可以自由命名。
</details>

---

### Q4: [Async/Await] 下列關於 `useEffect` 的寫法，哪個是正確的？
1. `useEffect(async () => { await api(); }, []);`
2. `useEffect(() => { await api(); }, []);`
3. `useEffect(() => { const fn = async () => { await api(); }; fn(); }, []);`
4. `useEffect(Promise.resolve(api()), []);`

<details>
<summary>點擊查看答案</summary>
**答案：3**
<br>
**解析**：`useEffect` 的 callback 不能是 async function，必須在內部定義 async function 並呼叫它。
</details>

---

## 程式碼重構挑戰 (Refactoring Challenge)

請將下列「舊式 JavaScript」重構為「現代 JavaScript (ES6+)」。

### 挑戰 1：字串串接與函式

**舊程式碼：**
```javascript
function createGreeting(user) {
  var name = user.name;
  var age = user.age;
  return 'Hello, my name is ' + name + ' and I am ' + age + ' years old.';
}
```

**目標：**
- 使用 `const`
- 使用解構賦值
- 使用 Template Literals (樣板字面值)
- 使用 Arrow Function

<details>
<summary>參考解答</summary>

```javascript
const createGreeting = ({ name, age }) => {
  return `Hello, my name is ${name} and I am ${age} years old.`;
};
// 或者更簡潔
const createGreeting = ({ name, age }) => `Hello, my name is ${name} and I am ${age} years old.`;
```
</details>

### 挑戰 2：陣列處理

**舊程式碼：**
```javascript
var numbers = [1, 2, 3, 4, 5];
var doubledOdds = [];

for (var i = 0; i < numbers.length; i++) {
  if (numbers[i] % 2 !== 0) {
    doubledOdds.push(numbers[i] * 2);
  }
}
// 結果：[2, 6, 10]
```

**目標：**
- 不使用 `for` 迴圈
- 使用 `filter` 篩選奇數
- 使用 `map` 進行加倍
- 使用鏈式呼叫 (Chaining)

<details>
<summary>參考解答</summary>

```javascript
const numbers = [1, 2, 3, 4, 5];

const doubledOdds = numbers
  .filter(n => n % 2 !== 0) // [1, 3, 5]
  .map(n => n * 2);         // [2, 6, 10]
```
</details>

### 挑戰 3：合併物件

**舊程式碼：**
```javascript
var defaultSettings = { theme: 'light', notifications: true };
var userSettings = { theme: 'dark' };

var finalSettings = Object.assign({}, defaultSettings, userSettings);
```

**目標：**
- 使用 Spread Operator `...`

<details>
<summary>參考解答</summary>

```javascript
const defaultSettings = { theme: 'light', notifications: true };
const userSettings = { theme: 'dark' };

const finalSettings = { ...defaultSettings, ...userSettings };
```
</details>
