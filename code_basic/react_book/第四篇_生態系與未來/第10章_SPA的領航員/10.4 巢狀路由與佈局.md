# 10.4 巢狀路由與佈局 (Nested Routes & Outlet)

React Router v6 最強大的功能之一就是 **巢狀路由 (Nested Routes)**，它讓我們可以輕鬆實作「共用佈局 (Layout)」。

## 1. 什麼是巢狀路由？

假設你的 Dashboard 後台長這樣：
- 上面是 Header (共用)
- 左邊是 Sidebar (共用)
- 右邊是 內容轉場區 (變動)

我們可以這樣定義路由結構：

```jsx
<Routes>
  {/* 父路由 */}
  <Route path="/dashboard" element={<DashboardLayout />}>
    
    {/* 子路由 (Nested Routes) */}
    {/* 當網址是 /dashboard 時 (index route) */}
    <Route index element={<DashboardHome />} />
    
    {/* 當網址是 /dashboard/settings 時 */}
    <Route path="settings" element={<Settings />} />
    
    {/* 當網址是 /dashboard/profile 時 */}
    <Route path="profile" element={<Profile />} />
    
  </Route>
</Routes>
```

## 2. Outlet 元件

父元件 (`DashboardLayout`) 必須告訴 React：「子路由的內容要渲染在哪裡？」這就是 `<Outlet />` 的作用 (類似 Vue 的 `<router-view>`)。

```jsx
import { Outlet, Link } from 'react-router-dom';

function DashboardLayout() {
  return (
    <div className="layout">
      <nav className="sidebar">
        <Link to="/dashboard">Home</Link>
        <Link to="/dashboard/settings">Settings</Link>
      </nav>
      
      <main className="content">
        {/* 子路由的元件會出現在這裡！ */}
        <Outlet />
      </main>
    </div>
  );
}
```

## 小結

- **巢狀路由** 讓路徑結構 (`/parent/child`) 與 UI 結構 (`<Parent><Child /></Parent>`) 完美對應。
- **Outlet** 是子路由的 placeholder。
- 這種模式非常適合製作具有 **固定 Layout** 的應用程式。